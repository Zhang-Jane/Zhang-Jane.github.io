<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Twisted简介 | desperado</title><meta name="author" content="Jane"><meta name="copyright" content="Jane"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1.介绍​	熟悉scrpay爬虫框架的人，对Twisted应该不太陌生，scrapy底层请求就是基于Twisted框架实现的。 ​	官方定义： Twisted is an event-based framework for internet applications, supporting Pyth"><link rel="shortcut icon" href="/img/hamburger.ico"><link rel="canonical" href="http://www.idesperado.com/post/86a0063b.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Twisted简介',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-02-06 20:00:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">#toggle-sidebar {bottom: 80px}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img2.baidu.com/it/u=4274118481,3879373441&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=400&amp;h=400" onerror="onerror=null;src='/img/unfind.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">94</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/program/nav.html"><i class="fa-fw fas fa-list"></i><span> pdf笔记</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 听音乐</span></a></li><li><a class="site-page child" href="/concert/"><i class="fa-fw fas fa-video"></i><span> 演唱会</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/extra_imgs/town.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">desperado</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间线</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/program/nav.html"><i class="fa-fw fas fa-list"></i><span> pdf笔记</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 听音乐</span></a></li><li><a class="site-page child" href="/concert/"><i class="fa-fw fas fa-video"></i><span> 演唱会</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Twisted简介</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-12T14:09:37.000Z" title="发表于 2020-11-12 22:09:37">2020-11-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-02-06T12:00:06.465Z" title="更新于 2023-02-06 20:00:06">2023-02-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Twisted/">Twisted</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Twisted简介"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h3><p>​	熟悉scrpay爬虫框架的人，对Twisted应该不太陌生，scrapy底层请求就是基于Twisted框架实现的。</p>
<p>​	<strong>官方定义：</strong></p>
<p>Twisted is an event-based framework for internet applications, supporting Python 2.7 and Python 3.5+. It includes modules for many different purposes, including the following:</p>
<ul>
<li><code>twisted.web</code>: HTTP clients and servers, HTML templating, and a WSGI server</li>
<li><code>twisted.conch</code>: SSHv2 and Telnet clients and servers and terminal emulators</li>
<li><code>twisted.words</code>: Clients and servers for IRC, XMPP, and other IM protocols</li>
<li><code>twisted.mail</code>: IMAPv4, POP3, SMTP clients and servers</li>
<li><code>twisted.positioning</code>: Tools for communicating with NMEA-compatible GPS receivers</li>
<li><code>twisted.names</code>: DNS client and tools for making your own DNS servers</li>
<li><code>twisted.trial</code>: A unit testing framework that integrates well with Twisted-based code.</li>
</ul>
<p>Twisted supports all major system event loops – <code>select</code> (all platforms), <code>poll</code> (most POSIX platforms), <code>epoll</code> (Linux), <code>kqueue</code> (FreeBSD, macOS), IOCP (Windows), and various GUI event loops (GTK+2&#x2F;3, Qt, wxWidgets). Third-party reactors can plug into Twisted, and provide support for additional event loops.</p>
<h3 id="2-核心模块："><a href="#2-核心模块：" class="headerlink" title="2.核心模块："></a>2.核心模块：</h3><h4 id="2-1-reactor模式"><a href="#2-1-reactor模式" class="headerlink" title="2.1 reactor模式"></a>2.1 reactor模式</h4><p><a target="_blank" rel="noopener" href="https://twisted.org/documents/12.1.0/core/howto/reactor-basics.html">https://twisted.org/documents/12.1.0/core/howto/reactor-basics.html</a><br><img src="/../images/Twisted/twsited-reactor.png" alt="twsited-reactor"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">time_until_next_timed_event</span>():</span><br><span class="line">    <span class="comment"># timed_events is the list of events scheduled with reactor.callLater</span></span><br><span class="line">    now = time.time()</span><br><span class="line">    timed_events.sort(key=<span class="keyword">lambda</span> event: event.desired_time)</span><br><span class="line">    soonest_event = timed_events[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> soonest_event.desired_time - now</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">not</span> loop.stopped:</span><br><span class="line">    <span class="comment"># Each of these possible events are functions that the reactor might call on your objects: dataReceived, buildProtocol, resumeProducing</span></span><br><span class="line">    timeout = time_until_next_timed_event()</span><br><span class="line">    <span class="comment"># events is simply a list of an abstract Event class, which has a process method that each specific type of event needs to fill out.</span></span><br><span class="line">    events = wait_for_events(timeout)</span><br><span class="line">    <span class="comment"># wait_for_events, stopped blocking. However, we don&#x27;t know how many timed events we might need to execute based on how long it was &quot;asleep&quot; for. We might have slept for the full timeout if nothign was going on, but if lots of connections were active we might have slept for effectively no time at all. So we check the current time (&quot;now()&quot;), and we add to the list of events we need to process, every timed event with a desired_time that is at, or before, the present time.</span></span><br><span class="line">    events += timed_events_until(now())</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> events:</span><br><span class="line">        <span class="comment"># event.process here might mean calling socket.recv() and then yourProtocol.dataReceived with the result</span></span><br><span class="line">        event.process()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li>我们的代码与Twisted代码运行在同一个线程中。</li>
<li>当我们的代码运行时，Twisted代码是处于暂停状态的。</li>
<li>同样，当Twisted代码处于运行状态时，我们的代码处于暂停状态。</li>
<li>reactor事件循环会在我们的回调函数返回后恢复运行。</li>
<li>在一个回调函数执行过程中，实际上Twisted的循环是被有效地阻塞在我们的代码上的。因此，<strong>我们应该确保回调函数不要浪费时间（尽快返回）</strong>。特别需要强调的是，我们应该尽量避免在回调函数中使用会阻塞I&#x2F;O的函数。否则，我们将失去所有使用reactor所带来的优势</li>
</ol>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ol>
<li>Twisted的reactor只有通过调用reactor.run()才启动。</li>
<li>reactor循环是在其开始的线程中运行，也就是运行在主线程中。</li>
<li>一旦启动，reactor就会在程序的控制下（或者具体在一个启动它的线程的控制下）一直运行下去。</li>
<li>reactor空转时并不会消耗任何CPU的资源。</li>
<li>并不需要显式的创建reactor，只需要引入就OK了。</li>
</ol>
<h4 id="2-2-twisted抽象层之Transpotts对象"><a href="#2-2-twisted抽象层之Transpotts对象" class="headerlink" title="2.2.twisted抽象层之Transpotts对象"></a>2.2.twisted抽象层之Transpotts对象</h4><p>​		一个Twisted的Transport对象具体代表-个可以收发字节的单条连接。其实也就是代表一个TCP或UDP的套接字连接的抽象，每一次数据的收发就是一 次具体 的&#x2F;O操作。因此twisted其实就是通过利用&#x2F;O多路复用控制每一个套接字的每次数据收发操作。实现的异步I&#x2F;O，这也是前面几个模块(asyncio、tornado等)的底层 原理, ;只不过twisted将其开放出来，可供我们直接控制。但是一般情况下， 我们不会自己实现一个Transport, 而是直接使用twisted已经帮我们实现的类。</p>
<h4 id="2-3-twisted抽象层之Protocols对象"><a href="#2-3-twisted抽象层之Protocols对象" class="headerlink" title="2.3.twisted抽象层之Protocols对象"></a>2.3.<strong>twisted抽象层之Protocols对象</strong></h4><p>​		Protocols对象代表的就是一个Transports对象的连接所对应的协议的抽象，比如HTTP、FTP或自定义协议等协议，为一个具体的连接提供协议解析。程序每建立一条连接， 都需要一个协议实例。 也就是说，每一个Transports对象都会有一 个Protocols对象。Twisted内部已经内置了许多Protocols协议对象，如后面将用到封装了HTTP协议的Protocols对象。</p>
<h4 id="2-4-twisted抽象层之Protocol-Factories"><a href="#2-4-twisted抽象层之Protocol-Factories" class="headerlink" title="2.4.twisted抽象层之Protocol Factories"></a>2.4.twisted抽象层之Protocol Factories</h4><p>​		由于我们可以自己定义Protocol类，并且要将其交给twisted来控制使用，因此twlsted需要一 种方式来为- -个新的连接创建- -个合适的协议。这就是Protocol Factores的作用。</p>
<h4 id="2-5-twisted中的回调-Deferred"><a href="#2-5-twisted中的回调-Deferred" class="headerlink" title="2.5.twisted中的回调: Deferred"></a>2.5.twisted中的回调: Deferred</h4><p>​	用于回调在异步程序中大量被使用，并且正确的使用这一-机制需要一-些技巧。因此，Twisted开 发者设计了一种抽象机制Deferred-让程序员在使用回调时更加简便。</p>
<p><a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/current/core/howto/defer.html">https://twistedmatrix.com/documents/current/core/howto/defer.html</a><br><a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/current/api/twisted.internet.defer.html">https://twistedmatrix.com/documents/current/api/twisted.internet.defer.html</a></p>
<h3 id="一些方法"><a href="#一些方法" class="headerlink" title="一些方法"></a>一些方法</h3><ul>
<li><p>reactor.callInThread： 可以新起一个线程，用来处理耗时逻辑，需注意线程安全</p>
</li>
<li><p>reactor.callFromThread： 和上面相反，在别的线程调用，去回到reactor主线程执行逻辑</p>
</li>
<li><p>threads.deferToThread： 将任务放到线程池去执行以免阻塞主线程，特点是返回的是deferred对象，这样我们可以加入回调逻辑</p>
</li>
<li><p>reactor.suggestThreadPoolSize: 建议用于调度传递给IReactorInThreads.callInThread的函数的内部线程池的大小。</p>
</li>
<li><p>getThreadPool：返回 IReactorInThreads.callInThread 使用的线程池，如有必要，请首先创建它</p>
</li>
<li><p>reactor.run&#x2F;stop 启动、停止主线程</p>
</li>
<li><p>reactor.callLater 延迟执行</p>
</li>
<li><p>reactor.callWhenRunning reactor运行之后运行…</p>
</li>
<li><p>reactor.callFromRunning 立刻执行</p>
</li>
<li><p>blockingCallFromThread：Run a function in the reactor from a thread, and wait for the result synchronously. If the function returns a <a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/20.3.0/api/twisted.internet.defer.Deferred.html"><code>Deferred</code></a>, wait for its result and return that.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/current/api/twisted.internet.interfaces.IReactorThreads.html">https://twistedmatrix.com/documents/current/api/twisted.internet.interfaces.IReactorThreads.html</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/current/core/howto/threading.html#auto3">https://twistedmatrix.com/documents/current/core/howto/threading.html#auto3</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/current/core/howto/index.html">https://twistedmatrix.com/documents/current/core/howto/index.html</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://twistedmatrix.com/documents/current/web/howto/client.html">https://twistedmatrix.com/documents/current/web/howto/client.html</a></p>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://www.idesperado.com">Jane</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.idesperado.com/post/86a0063b.html">http://www.idesperado.com/post/86a0063b.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.idesperado.com" target="_blank">desperado</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Twisted/">Twisted</a></div><div class="post_share"><div class="social-share" data-image="/extra_imgs/town.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/d78ab318.html" title="Twisted之twisted.web.client.Agent"><img class="cover" src="/extra_imgs/town.jpg" onerror="onerror=null;src='/img/unfind.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Twisted之twisted.web.client.Agent</div></div></a></div><div class="next-post pull-right"><a href="/post/574e8458.html" title="android刷机教程"><img class="cover" src="/extra_imgs/town.jpg" onerror="onerror=null;src='/img/unfind.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">android刷机教程</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/d78ab318.html" title="Twisted之twisted.web.client.Agent"><img class="cover" src="/extra_imgs/town.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-12</div><div class="title">Twisted之twisted.web.client.Agent</div></div></a></div><div><a href="/post/35c415ad.html" title="Twisted之Thread"><img class="cover" src="/extra_imgs/town.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-14</div><div class="title">Twisted之Thread</div></div></a></div><div><a href="/post/cd11064.html" title="Twisted之各种callback"><img class="cover" src="/extra_imgs/town.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-11-13</div><div class="title">Twisted之各种callback</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img2.baidu.com/it/u=4274118481,3879373441&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=400&amp;h=400" onerror="this.onerror=null;this.src='/img/unfind.jpg'" alt="avatar"/></div><div class="author-info__name">Jane</div><div class="author-info__description">We think too much and feel too little. More than machinery we need humanity!</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">94</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Zhang-Jane"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Zhang-Jane" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:luckingshine@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">1.介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">2.核心模块：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-reactor%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 reactor模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">2.2.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-twisted%E6%8A%BD%E8%B1%A1%E5%B1%82%E4%B9%8BTranspotts%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.3.</span> <span class="toc-text">2.2.twisted抽象层之Transpotts对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-twisted%E6%8A%BD%E8%B1%A1%E5%B1%82%E4%B9%8BProtocols%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.4.</span> <span class="toc-text">2.3.twisted抽象层之Protocols对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-twisted%E6%8A%BD%E8%B1%A1%E5%B1%82%E4%B9%8BProtocol-Factories"><span class="toc-number">2.5.</span> <span class="toc-text">2.4.twisted抽象层之Protocol Factories</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-twisted%E4%B8%AD%E7%9A%84%E5%9B%9E%E8%B0%83-Deferred"><span class="toc-number">2.6.</span> <span class="toc-text">2.5.twisted中的回调: Deferred</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text">一些方法</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/80db8027.html" title="go语言基础">go语言基础</a><time datetime="2023-02-05T07:50:08.000Z" title="发表于 2023-02-05 15:50:08">2023-02-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/897196e0.html" title="日常使用的工具">日常使用的工具</a><time datetime="2023-02-05T07:39:33.000Z" title="发表于 2023-02-05 15:39:33">2023-02-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/b3a6abb4.html" title="线程和进程">线程和进程</a><time datetime="2023-01-26T13:57:12.000Z" title="发表于 2023-01-26 21:57:12">2023-01-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/bbdeeae3.html" title="IDA手册">IDA手册</a><time datetime="2023-01-24T14:51:47.000Z" title="发表于 2023-01-24 22:51:47">2023-01-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/3ad834c9.html" title="zookeeper">zookeeper</a><time datetime="2022-12-25T15:25:46.000Z" title="发表于 2022-12-25 23:25:46">2022-12-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/extra_imgs/town.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Jane</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="43049" data-server="netease" data-type="album" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>